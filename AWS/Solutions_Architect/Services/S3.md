## Sections

- [S3 Guarantees]
- [Charges]
- [Free Tier]
- [Storage Tiers]
- [Versioning]
- [Security]


## Links

https://aws.amazon.com/s3/pricing/

https://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html

https://aws.amazon.com/s3/faqs/

https://docs.aws.amazon.com/AmazonS3/latest/dev/transfer-acceleration.html

By default, you can create up to 100 buckets in an AWS account, and that is a limit that AWS does not override without officially requesting for a service limit increase.

# S3 Guarantees

* Built for 99.99% availability
* Amazon guarantees 99.9% availability (.09% / 1 nine less than what it was built for)
* Amazon guarantees 99.999999999% for durability of S3 information (Remember 11 nines!)

# Charges

* Storage
* Requests and Data Retrieval
* Data Transfer
* Management and Replication


# Free Tier

New AWS customers receive 5GB of Amazon S3 storage in the S3 Standard storage class; 20,000 GET Requests; 2,000 PUT, COPY, POST, or LIST Requests; and 15GB of Data Transfer Out each month for one year.


# Storage Tiers / Classes
### S3 Standard

General purpose storage for any type of data, typically used for frequently accessed data.

    First 50 TB / Month	$0.023 per GB
    Next 450 TB / Month	$0.022 per GB
    Over 500 TB / Month	$0.021 per GB

### S3 - IA (Infrequently accessed)

For long lived but infrequently accessed data that needs millisecond access.

    All Storage / Month	$0.0125 per GB

### Intelligent Tiering

Automatic cost savings for data with unknown or changing access patterns.

    Frequent Access Tier, First 50 TB / Month	$0.023 per GB
    Frequent Access Tier, Next 450 TB / Month	$0.022 per GB
    Frequent Access Tier, Over 500 TB / Month	$0.021 per GB
    Infrequent Access Tier, All Storage / Month	$0.0125 per GB
    Monitoring and Automation, All Storage / Month	$0.0025 per 1,000 objects

### S3 One Zone - IA

For re-createable infrequently accessed data that needs millisecond access

    All Storage / Month	$0.01 per GB

### S3 Glacier

For long-term backups and archives with retrieval option from 1 minute to 12 hours

    All Storage / Month	$0.004 per GB

### S3 Glacier Deep Archive

For long-term data archiving that is accessed once or twice in a year and can be restored within 12 hours

    All Storage / Month	$0.00099 per GB



# Versioning

Versioning in S3 is similar to version control in GitHub. S3 will save every version of an object such that it can be retrieved, restored, or deleted.

* Stores all versions of an object (including all writes and even if you delete an object).

* Once enabled, versioning can not be disabled, only suspended.

* Integrates with lifecycle rules.

* MFA can be used as a requirement for deleting versions (i.e. versioning's "MFA Delete" capability).

* Deleting the default version (i.e. by not specifying) will create a "Delete marker", this must be deleted in order to actually delete that specific version.

* Not all versions of each object are visible by default in the S3 console, the "Show" version tab must be selected (can be used to address specific versions, such as deleting, restoring, etc).

# Lifecylce Management

You can create "Lifecycle rules" for a bucket that will automate moving objects in the bucket into different storage tiers. 
Lifecylce rules can used in conjuction with versioning whereby you can apply differnet rules between current and previous versions for objects.
Rules can be applied to objects that match a certain key prefix/tags or the entire bucket.

# Security

By default, all S3 Buckets are private. You must manully uncheck "Block Public Access" during / after creation in the "Set Permissions" tab to enable public access.

S3 Buckets can be configured to create access logs which are capable of being sent to other buckets (even buckets in another account).

### Bucket Policies

### Access Control List

### Encryption in Transit

Encrypts data as it's moving between servers.
* SSL/TLS.

### Encryption at Rest (Server Side)

* S3 Managed Keys - SSE-S3
* AWS Key Management Service, Managed Keys - SSE-KMS
* Server Side Encryption with Customer Provided Keys - SSE-C

### Encryption at Rest (Client Side)

## S3 Object Locks

## Glacier Valut Locks

# Prefixes

A bucket prefix is essentially the object's path minus the bucket name and object name (e.g. mybucket/redb/data.csv = redb, mybucket/redb/access/prcl.mdb = redb/access)

# Sharing Buckets Across Accounts

There are three ways to share buckets across accounts:
* Bucket Access Control Lists (Programmatic-Objects only)
* Bucket Policies and IAM (Programmatic-Bucket Level)
* Cross Account IAM Roles (Programmatic and Console)

# Cross Region Replication

* Requires versioning to be enabled (for source and sink).
* Only objects updated after replication was enabled with be replicated / mirrored.
* Will not replicate delete markers nor specfic object versions.

# Transfer Acceleration

Transfer Acceleration takes advantage of Amazon CloudFrontâ€™s globally distributed edge locations. As the data arrives at an edge location, data is routed to Amazon S3 over an optimized network path.

You might want to use Transfer Acceleration on a bucket for various reasons, including the following:

* You have customers that upload to a centralized bucket from all over the world.

* You transfer gigabytes to terabytes of data on a regular basis across continents.

* You are unable to utilize all of your available bandwidth over the Internet when uploading to Amazon S3.

https://docs.aws.amazon.com/AmazonS3/latest/dev/transfer-acceleration.html


Requester Pays, S3 Events???





